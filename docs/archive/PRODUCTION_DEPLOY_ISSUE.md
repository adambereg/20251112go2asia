# –ü—Ä–æ–±–ª–µ–º–∞: Production –¥–µ–ø–ª–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–î–∞—Ç–∞:** 2025-11-13  
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## üîç –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ production –¥–µ–ø–ª–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ staging, —Ö–æ—Ç—è –¥–æ–ª–∂–µ–Ω –¥–µ–ø–ª–æ–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ "Run workflow".

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

### –§–∞–π–ª: `.github/workflows/production-deploy.yml`

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
```yaml
on:
  workflow_dispatch:
    inputs:
      version:
        description: 'Version tag to deploy (e.g., v0.1.0)'
        required: true
        type: string
      confirm:
        description: 'Type "deploy" to confirm production deployment'
        required: true
        type: string
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –¢–æ–ª—å–∫–æ `workflow_dispatch` (—Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫)
- ‚úÖ –ù–µ—Ç `push:` —Ç—Ä–∏–≥–≥–µ—Ä–∞
- ‚úÖ –ù–µ—Ç `pull_request:` —Ç—Ä–∏–≥–≥–µ—Ä–∞
- ‚úÖ –ù–µ—Ç `workflow_run:` —Ç—Ä–∏–≥–≥–µ—Ä–∞
- ‚úÖ –ù–µ—Ç `workflow_call:` —Ç—Ä–∏–≥–≥–µ—Ä–∞
- ‚úÖ –ù–µ—Ç `schedule:` —Ç—Ä–∏–≥–≥–µ—Ä–∞

**–í—ã–≤–æ–¥:** –í –∫–æ–¥–µ –Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –¥–ª—è production –¥–µ–ø–ª–æ—è.

---

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. GitHub Environments –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- GitHub ‚Üí Settings ‚Üí Environments ‚Üí production
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ—Ç –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å "Deployment protection rules"

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Environments –≤—Ä—É—á–Ω—É—é –≤ GitHub UI.

### 2. –î—Ä—É–≥–∏–µ workflow —Ñ–∞–π–ª—ã

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ù–µ—Ç –ª–∏ –¥—Ä—É–≥–∏—Ö workflow —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç production
- –ù–µ—Ç –ª–∏ `workflow_run` —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –≤ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –≤ `.github/workflows/`.

### 3. GitHub Actions –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- GitHub ‚Üí Settings ‚Üí Actions ‚Üí General
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å "Workflow permissions"
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å "Allow GitHub Actions to create and approve pull requests"

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Actions –≤—Ä—É—á–Ω—É—é –≤ GitHub UI.

### 4. –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø—É—Ç–∞–Ω–∏—Ü–∞

**–í–æ–∑–º–æ–∂–Ω–æ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç–∞—Ä—ã–µ –∑–∞–ø—É—Å–∫–∏ production workflow
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—É—Ç–∞–µ—Ç staging –∏ production workflows
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ –≤ GitHub UI

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É "Event" –≤ —Å–ø–∏—Å–∫–µ –∑–∞–ø—É—Å–∫–æ–≤.

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å GitHub UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ GitHub ‚Üí Actions ‚Üí "Promote to Production"
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–æ–Ω–∫—É "Event" –≤ —Å–ø–∏—Å–∫–µ –∑–∞–ø—É—Å–∫–æ–≤
3. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `workflow_dispatch` ‚Äî —ç—Ç–æ —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ ‚úÖ
4. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `push` –∏–ª–∏ `pull_request` ‚Äî —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ ‚ùå

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Environments

1. –û—Ç–∫—Ä–æ–π—Ç–µ GitHub ‚Üí Settings ‚Üí Environments ‚Üí production
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ "Deployment protection rules"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ workflow —Ñ–∞–π–ª—ã

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ `.github/workflows/`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç `workflow_run` —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç production

### –®–∞–≥ 4: –Ø–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ workflow_dispatch

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –º–æ–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ `workflow_dispatch` –∏ —É–±—Ä–∞—Ç—å –≤—Å–µ –¥—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:

```yaml
on:
  workflow_dispatch:
    inputs:
      version:
        description: 'Version tag to deploy (e.g., v0.1.0)'
        required: true
        type: string
      confirm:
        description: 'Type "deploy" to confirm production deployment'
        required: true
        type: string
```

---

## üîß –í–æ–∑–º–æ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—Å—è, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —è–≤–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤ workflow:

```yaml
- name: Verify manual trigger
  if: github.event_name != 'workflow_dispatch'
  run: |
    echo "‚ùå Production deployment can only be triggered manually"
    exit 1
```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ö–æ–¥ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ‚Äî —Ç–æ–ª—å–∫–æ `workflow_dispatch`
- –ü—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö GitHub UI
- –ù—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –ª–æ–≥–∏)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-13

