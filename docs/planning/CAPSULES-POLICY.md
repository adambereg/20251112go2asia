# ‚öôÔ∏è Go2Asia Capsules Policy

## üéØ –¶–µ–ª—å
–ü–æ–ª–∏—Ç–∏–∫–∞ **Capsules** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –±—ç–∫–µ–Ω–¥–∞.  
–ö–∞–∂–¥—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –∫–∞–∫ **–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞–ø—Å—É–ª–∞**.

---

## üß© –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **1 —Å–µ—Ä–≤–∏—Å = 1 –∫–∞–ø—Å—É–ª–∞**  
   –ö–∞—Ç–∞–ª–æ–≥: `/services/<name>-service/`  
   –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:
package.json
tsconfig.json
.env.example
Dockerfile
README.md
src/index.ts
docs/swagger.yaml


2. **–ò–º–ø–æ—Ä—Ç—ã —Ç–æ–ª—å–∫–æ –∏–∑ `/packages/*`**  
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ: `import { User } from '@go2asia/contracts'`  
- ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ: `import { something } from '../../auth/src/...';`  
–í—Å–µ –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Å–≤—è–∑–∏ ‚Äî **—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ HTTP API** (—á–µ—Ä–µ–∑ Gateway) –∏–ª–∏ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è/–æ—á–µ—Ä–µ–¥–∏.

3. **–ò–∑–æ–ª—è—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è**  
- –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
  ```
  PORT=
  DATABASE_URL=
  REDIS_PREFIX=
  ```
- –°–≤–æ—è –±–∞–∑–∞ / —Å—Ö–µ–º–∞ / –º–∏–≥—Ä–∞—Ü–∏–∏.  
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –ª–æ–≥–∏.

4. **CI/CD –º–∞—Ç—Ä–∏—Ü–∞**  
–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è **–æ—Ç–¥–µ–ª—å–Ω–æ**:  
matrix:
service: [api-gateway, auth, content, token, referral]

–û—à–∏–±–∫–∞ –æ–¥–Ω–æ–≥–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–µ–ø–ª–æ–π –æ—Å—Ç–∞–ª—å–Ω—ã—Ö.

5. **CORS –∏ ACL**  
- –í–Ω–µ—à–Ω–∏–µ –≤—ã–∑–æ–≤—ã ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `API Gateway`.  
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å-–≤—ã–∑–æ–≤—ã ‚Äî —á–µ—Ä–µ–∑ `service JWT` (`Authorization: Bearer <SERVICE_TOKEN>`).  
- CORS —Ä–∞–∑—Ä–µ—à—ë–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Ñ—Ä–æ–Ω—Ç–æ–≤ (`go2asia.space`, `localhost`).

6. **–ö–æ–¥-—Å—Ç–∞–π–ª –∏ –ª–∏–Ω—Ç-–≥–µ–π—Ç**  
- ESLint-–ø—Ä–∞–≤–∏–ª–æ –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∏–º–ø–æ—Ä—Ç—ã –º–µ–∂–¥—É –∫–∞–ø—Å—É–ª–∞–º–∏:  
  ```js
  // .eslintrc.cjs
  "no-restricted-imports": ["error", { "patterns": ["../../services/*"] }]
  ```
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–∏–π –∫–æ–Ω—Ñ–∏–≥: `.eslintrc.base.js`  
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ CI.

7. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã**  
- –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç `README.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.  
- Swagger/OpenAPI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `/docs`.

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü–æ–ª—å–∑–∞ |
|------------|---------|
| –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ | –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –ø–æ–Ω—è—Ç–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ |
| –î–µ–ø–ª–æ–π | –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ—Ç–∫–∞—Ç—ã |
| –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ | –º–∞—Å—à—Ç–∞–± –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –æ—Ç–¥–µ–ª—å–Ω–æ |
| –ö–æ–º–∞–Ω–¥–∞ | –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ–≤—å—é –∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ |

---

üìÑ **–§–∞–π–ª:** `/docs/CAPSULES-POLICY.md`  
üì¶ **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Go2Asia.
